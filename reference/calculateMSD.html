<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate Mean Squared Displacement (MSD) — calculateMSD • TrackMateR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Mean Squared Displacement (MSD) — calculateMSD"><meta property="og:description" content="Calculation of the MSD of multiple tracks.
There are two methods for everaging MSD data from multiple tracks:
ensemble = for each time lag average all squared displacements from all tracks
time-averaged = find MSD for each track and then generate the average MSD from these curves
The MSD curves will be identical if all tracks are the same length, and diverge if not.
Standard deviation will be large for ensemble and smaller for time-averaged data.
Input is a data frame of tracks imported using readTrackMateXML()"><meta property="og:image" content="https://quantixed.github.io/TrackMateR/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TrackMateR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/TrackMateR.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/guides/comparison.html">Comparison of multiple datasets</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/quantixed/TrackMateR" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate Mean Squared Displacement (MSD)</h1>
    <small class="dont-index">Source: <a href="https://github.com/quantixed/TrackMateR/blob/master/R/calculateMSD.R" class="external-link"><code>R/calculateMSD.R</code></a></small>
    <div class="hidden name"><code>calculateMSD.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculation of the MSD of multiple tracks.
There are two methods for everaging MSD data from multiple tracks:
ensemble = for each time lag average all squared displacements from all tracks
time-averaged = find MSD for each track and then generate the average MSD from these curves
The MSD curves will be identical if all tracks are the same length, and diverge if not.
Standard deviation will be large for ensemble and smaller for time-averaged data.
Input is a data frame of tracks imported using readTrackMateXML()</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calculateMSD</span><span class="op">(</span><span class="va">df</span>, method <span class="op">=</span> <span class="st">"timeaveraged"</span>, N <span class="op">=</span> <span class="fl">4</span>, short <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df</dt>
<dd><p>data frame must include at a minimum - trace (track ID), x, y and t (in real coords)</p></dd>


<dt>method</dt>
<dd><p>string. Either "ensemble" or "timeaveraged" (default)</p></dd>


<dt>N</dt>
<dd><p>numeric variable for MSD. dt should be up to 1/N of number of data points (4 recommended)</p></dd>


<dt>short</dt>
<dd><p>numeric variable for the shortest number of points we will analyse. Note, this uses the number of frames from start, not number of points in track, i.e. a track with &lt;short points and many gaps will remain</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>list of two data frames</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">xmlPath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ExampleTrackMateData.xml"</span>, package<span class="op">=</span><span class="st">"TrackMateR"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tmObj</span> <span class="op">&lt;-</span> <span class="fu"><a href="readTrackMateXML.html">readTrackMateXML</a></span><span class="op">(</span>XMLpath <span class="op">=</span> <span class="va">xmlPath</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Units are:  1 pixel and 0.07002736 s </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Spatial units are in pixels - consider transforming to real units</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Collecting spot data. Using 2 cores</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching track data...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Calculating distances...</span>
<span class="r-in"><span><span class="va">tmObj</span> <span class="op">&lt;-</span> <span class="fu"><a href="correctTrackMateData.html">correctTrackMateData</a></span><span class="op">(</span><span class="va">tmObj</span>, xyscalar <span class="op">=</span> <span class="fl">0.04</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Correcting XY scale. </span>
<span class="r-in"><span><span class="va">tmDF</span> <span class="op">&lt;-</span>  <span class="va">tmObj</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">msdObj</span> <span class="op">&lt;-</span> <span class="fu">calculateMSD</span><span class="op">(</span>df <span class="op">=</span> <span class="va">tmDF</span>, method <span class="op">=</span> <span class="st">"ensemble"</span>, N <span class="op">=</span> <span class="fl">3</span>, short <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Stephen J Royle.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

